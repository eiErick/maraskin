<app-header title="Almoço" [load]="loadMenu()"/>

<ion-content scroll-y="false">
  <div class="container">
    <ion-searchbar [(ngModel)]="searchTerm" [debounce]="300" (ionInput)="search()" placeholder="Pesquisar" />

    <div class="scrollable-list">
      <ion-list [inset]="true">
        @for (lunch of filteredLunches; track $index) {
          <ion-item class="ion-no-padding no-padding-end">
            <div class="lunch">
              <span class="name">{{ lunch.name }}</span>
              <div class="actions">
                <span class="material-symbols-outlined" id="open-modal" expand="block" (click)="openEditLunch(lunch)">edit</span>
                <span class="material-symbols-outlined" (click)="presentDeleteConfirm(lunch)">delete</span>
              </div>
            </div>
          </ion-item>
        } @empty {
          @if (searchTerm !== '') {
            <span class="empty">Nenhum almoço encontrado :/</span>
          }
        }
      </ion-list>
    </div>

    <ion-button (click)="openCreateLunch()">
      <span class="material-symbols-outlined">add</span>
    </ion-button>
  </div>
</ion-content>